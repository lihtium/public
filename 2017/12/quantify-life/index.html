

  
    
  


  





  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.30.2 with theme Tranquilpeak 0.4.2-BETA">
    <title>Quantify life ?</title>
    <meta name="author" content="Guanhua Li">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.png">
    

    
    <meta name="description" content="How do actuaries quantify life? Let&#39;s take a look into classical life insurance and play with life tables">
    <meta property="og:description" content="How do actuaries quantify life? Let&#39;s take a look into classical life insurance and play with life tables">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Quantify life ?">
    <meta property="og:url" content="/2017/12/quantify-life/">
    <meta property="og:site_name" content="Guanhua Li">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Guanhua Li">
    <meta name="twitter:description" content="How do actuaries quantify life? Let&#39;s take a look into classical life insurance and play with life tables">
    
      <meta name="twitter:creator" content="@lihtium">
    
    

    
    

    
      <meta property="og:image" content="https://image.flaticon.com/icons/svg/315/315061.svg">
    

    
      <meta property="og:image" content="https://image.flaticon.com/icons/svg/375/375869.svg">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Guanhua Li</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="https://image.flaticon.com/icons/svg/315/315061.svg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="https://image.flaticon.com/icons/svg/315/315061.svg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Guanhua Li</h4>
        
          <h5 class="sidebar-profile-bio">Been there, done that &hellip;</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-desktop"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/actuarial">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Actuarial science</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/guanhuali">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/lihtium">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      Quantify life ?
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-12-25T00:00:00Z">
        
  December 25, 2017

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/actuarial">actuarial</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/dygraphs/dygraph.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dygraphs/dygraph-combined.js"></script>
<script src="/rmarkdown-libs/moment/moment.js"></script>
<script src="/rmarkdown-libs/moment-timezone/moment-timezone-with-data.js"></script>
<script src="/rmarkdown-libs/moment-fquarter/moment-fquarter.min.js"></script>
<script src="/rmarkdown-libs/dygraphs-binding/dygraphs.js"></script>


<div id="life-insurance" class="section level1">
<h1>Life insurance</h1>
<p>Classical life insurance is all about interest rate and mortality. Let’s take for example a <em>whole life insurance contract</em> which is basically a contract with a payment at the end of the year of death of the insured to the beneficiary, a good classical life insurance contract.</p>
<p>In order to model this, we need to</p>
<ul>
<li>model the future lifetime</li>
<li>model the interest rates in order to discount this payment</li>
</ul>
<p>Life actuaries use fancy notations to express their “things”, so in order to understand what’s going on let me list here some simple notations :</p>
<ul>
<li><span class="math inline">\(x\)</span> defines the age of a person</li>
<li><span class="math inline">\(l_x\)</span> defines the number of persons still alive at age x</li>
<li>TH00_02 (male) and TF00_02 (female) are two french life tables that were introduced in 2007.</li>
</ul>
<div id="from-life-tables-to-future-lifetime" class="section level2">
<h2>From life tables to future lifetime</h2>
<p>Fortunately there exists a lovely life insurance r package <a href="https://cran.r-project.org/web/packages/lifecontingencies/lifecontingencies.pdf">lifecontingencies</a> with a bunch of useful datasets and actuarial functions. So without further ado let’s take a look into this :</p>
<pre class="r"><code>data(&quot;demoFrance&quot;)
demoFrance&lt;-rbind(demoFrance,c(113,0,0,0,0)) # this will be needed later
french.lifetables&lt;-melt(demoFrance,id.vars = &quot;age&quot;)
names(french.lifetables)&lt;-c(&quot;age&quot;,&quot;Life.table&quot;,&quot;lx&quot;)

ggplot(french.lifetables[french.lifetables$Life.table%in%c(&quot;TH00_02&quot;,&quot;TF00_02&quot;),],
       aes(x=age,y=lx,color=Life.table))+
  geom_line()+
  theme_minimal()+
  xlab(&quot;x = age&quot;)+
  scale_colour_manual(values=colorpal)+
  theme(legend.position=&quot;bottom&quot;)</code></pre>
<p><img src="/post/2017-12-25-quantify-life_files/figure-html/DemoFrance-1.png" width="672" /></p>
<p>The curves here <span class="math inline">\((l_x)\)</span> which are once again the number of person still alive at the age of <span class="math inline">\(x\)</span> have an impressive rollercoast descent starting at around 50 for men and around 60 for women. So this confirms the sayings that women live longer than men. We can summarise the information of these curves into a single indicator which is the life expectancy at birth and compare the longevity of different groups of people. So let <span class="math inline">\(T(x)\)</span> be the random variable defining the future lifetime or the age at death. Its mean value is called the life expectancy :</p>
<p><span class="math display">\[
\mathbb{E}(T(x))=\sum_{x=0}^\infty x\cdot \mathbb{P}[T=x]
\]</span> with <span class="math inline">\(\mathbb{P}[T=x]=\mathbb{P}[\text{survive from birth until $x$ and then die}] = \frac{l_x}{l_0} \cdot \frac{l_x-l_{x+1}}{l_x}\)</span>, for example the probability to die at the age of 60 given that the person is a baby is <span class="math display">\[
\begin{aligned}
\mathbb{P}[T=60|x_0=0]&amp;=\frac{\textit{#survivors_60_years_later}}{\textit{#survivors_at_the_beginning}}\cdot \frac{\textit{#deceased_at_the_age_of_60}}{\textit{#survivors_60_years_later}}\\
\mathbb{P}[T=60|x_0=0]&amp;=\frac{l_{60}}{l_{0}}\cdot \frac{l_{60}-l_{61}}{l_{60}}=\frac{l_{60}-l_{61}}{l_0}\\
\end{aligned}
\]</span> so basically, <span class="math inline">\(\mathbb{P}[T=x|x_0]=\frac{l_{x}-l_{x+1}}{l_{x_0}}\)</span>. We can also check that these probabilities make sense by summing them up on <span class="math inline">\(x\)</span> :</p>
<p><span class="math display">\[
\begin{aligned}
\sum_{x=x_0}^\infty \mathbb{P}[T=x|x_0] = \mathbb{P}[T&lt;\infty|x_0]
  &amp;= \sum_{x=x_0}^\infty \left[\frac{l_{x}-l_{x+1}}{l_{x_0}}\right]\\
  &amp;= \dfrac{l_{x_0}-l_{x_0+1}}{l_{x_0}}+\dfrac{l_{x_0+1}-l_{x_0+2}}{l_{x_0}}+\dfrac{l_{x_0+2}-l_{x_0+3}}{l_{x_0}}+...\\
  &amp;\rightarrow \dfrac{l_{x_0}-\overbrace{l_{\infty}}^{\rightarrow 0}}{l_{x_0}} \rightarrow 1
\end{aligned}
\]</span></p>
<p><img src="/post/2017-12-25-quantify-life_files/figure-html/PT-1.png" width="672" /></p>
<p>There’s a little bump at the beginning where babies and children up to 4 are more fragile and thus have a higher probability to die.</p>
<p>So, if we come back to our life expectancy at birth:</p>
<pre class="r"><code>e_x&lt;-(PT %&gt;% group_by(Life.table) %&gt;%
  summarise(Life.expectancy=sum(age*`P(T=x|x0)`)))
print(e_x)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   Life.table Life.expectancy
##       &lt;fctr&gt;           &lt;dbl&gt;
## 1    TH00_02        75.00752
## 2    TF00_02        82.48837</code></pre>
<p>According to these life tables women in France tend to live 7 years (or equivalently 90 months) longer. Now that we know how to calculate the life expectancy at birth we can generalise it and calculate the life expectancy given that the person has survived <span class="math inline">\(age\)</span> years.</p>
<p><span class="math display">\[
\mathbb{E}(T(x)|age)=\sum_{x=age}^\infty x\cdot \mathbb{P}[T=x|age]= \sum_{x=age}^\infty x\cdot\left[\frac{l_{x}-l_{x+1}}{l_{age}}\right]
\]</span></p>
<p>if we plot this conditional life expectancy we get</p>
<div id="htmlwidget-1" style="width:672px;height:240px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"attrs":{"xlabel":"age","ylabel":"Life expectancy given age","labels":["age","Male","Female"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colors":["#66C2A5","#FC8D62","#8DA0CB"],"colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"series":{"Male":{"axis":"y"},"Female":{"axis":"y"}}},"annotations":[],"shadings":[],"events":[],"format":"numeric","data":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],[75.00752,75.3761091738602,75.4045218300443,75.4244514610945,75.4404771483746,75.4534132748526,75.4647550055338,75.474541136693,75.4834998943269,75.4923301459487,75.5003623990819,75.5089353133652,75.5173795714516,75.5276144054141,75.5402111285709,75.5563324937028,75.5789160694667,75.6089569698375,75.6479913619988,75.6957329697521,75.7496082732686,75.8065877352763,75.8643279711496,75.9211353587799,75.9764691551026,76.0308721012946,76.0843412713752,76.1378948654759,76.1914956519966,76.245106244004,76.2991723715132,76.3531650231188,76.4075113428036,76.463067977891,76.5206390931121,76.5814147189174,76.6452214212152,76.7127265600017,76.7841368263318,76.8600376905235,76.9413608110492,77.0289678701075,77.124406853901,77.2276426165722,77.3393462406212,77.4597796781532,77.5891726143273,77.7270506775413,77.8726205719163,78.025116897602,78.1841140441684,78.349190854267,78.5208303773152,78.6991726093024,78.8843267889949,79.0766519823788,79.2759167425699,79.481344511123,79.6929542305534,79.9109877399954,80.1363838294092,80.3697580359044,80.6118974064229,80.8637483464605,81.126185257247,81.4004579235793,81.6873281393217,81.9873245283998,82.3003668825579,82.6268017773924,82.9668143128897,83.3208330361601,83.6891729102395,84.0715174318051,84.467668180461,84.8775616845474,85.3016451514016,85.7405835354544,86.1946419526106,86.6647557080796,87.1533656889639,87.6637428222634,88.1988472622478,88.7601875033292,89.3474994130078,89.9591169255928,90.5941927390791,91.2524992618214,91.9333985808662,92.6360018456569,93.3584762168142,94.0986331420857,94.8552382951921,95.6275006668445,96.414976599064,97.2168090510275,98.0325331648768,98.8612716763006,99.7023886378309,100.55523255814,101.420814479638,102.29756097561,103.180327868852,104.071942446043,104.986666666667,105.897435897436,106.842105263158,107.777777777778,108.75,109.5,110,null,null],[82.48837,82.806346370061,82.8334555094745,82.8505052128322,82.8641418453965,82.8752348514533,82.8846250464735,82.8931241709209,82.900751773905,82.9082803956256,82.9157100062325,82.9237737138951,82.9317286036036,82.9402880012872,82.9494322696141,82.960529095207,82.9742039337995,82.9903794869731,83.0096434539268,83.0312459092328,83.053820738562,83.0760588075253,83.0973338037397,83.118280545724,83.1388986957443,83.159187915603,83.1797351314249,83.1999434531924,83.2203804155681,83.2410266774454,83.2624114192133,83.2850352450975,83.3093703520079,83.3358607843534,83.364922765257,83.3964444264256,83.430314525372,83.4664223796667,83.5056026819729,83.5481732304282,83.5939720282568,83.6437277081423,83.6972461150734,83.7547613209089,83.8164831566452,83.8821889445794,83.9524577202296,84.0266469129706,84.1045230068149,84.1854798710424,84.2693016800282,84.3554161820901,84.4439713063124,84.5357702186306,84.6312140665417,84.7306577011977,84.8337814045187,84.9405720574385,85.0503978498051,85.1629383087443,85.2784343558808,85.397353916376,85.5206275358399,85.6490758569672,85.7831629861461,85.9235106886791,86.0704050397054,86.2247306540301,86.3872371120078,86.5585448257818,86.7395586714171,86.9314261136427,87.1345522185988,87.3495958257215,87.5774362582179,87.8194893701079,88.0771643031662,88.3523630414901,88.6467074572822,88.9617802329379,89.2992206842224,89.6614150212648,90.0509789547634,90.4707791686083,90.9231254260395,91.4095170350916,91.9305604859385,92.4862387299944,93.0751170344894,93.6937484927249,94.3370098412602,95,95.6808615586978,96.3801604382704,97.0986951364176,97.8363930092525,98.5931162790698,99.3678869155491,100.159090909091,100.966120460585,101.787755102041,102.622754491018,103.470546984572,104.33,105.200367647059,106.079617834395,106.970930232558,107.876404494382,108.772727272727,109.7,110.555555555556,111.25,112]],"fixedtz":false,"tzone":""},"evals":[],"jsHooks":[]}</script>
<p>If we substract the age from the conditional life expectancy, we can calculate the remaining years a person aged <span class="math inline">\(age\)</span> can expect to live :</p>
<div id="htmlwidget-2" style="width:672px;height:240px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"attrs":{"xlabel":"age","ylabel":"Remaining life expectancy","labels":["age","Male","Female"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colors":["#66C2A5","#FC8D62","#8DA0CB"],"colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"series":{"Male":{"axis":"y"},"Female":{"axis":"y"}}},"annotations":[],"shadings":[],"events":[],"format":"numeric","data":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],[75.00752,74.3761091738602,73.4045218300443,72.4244514610945,71.4404771483746,70.4534132748526,69.4647550055338,68.474541136693,67.4834998943269,66.4923301459487,65.5003623990819,64.5089353133652,63.5173795714516,62.5276144054141,61.5402111285709,60.5563324937028,59.5789160694667,58.6089569698375,57.6479913619988,56.6957329697521,55.7496082732686,54.8065877352763,53.8643279711496,52.9211353587799,51.9764691551026,51.0308721012946,50.0843412713752,49.1378948654759,48.1914956519966,47.245106244004,46.2991723715132,45.3531650231188,44.4075113428036,43.463067977891,42.5206390931121,41.5814147189174,40.6452214212152,39.7127265600017,38.7841368263318,37.8600376905235,36.9413608110492,36.0289678701075,35.124406853901,34.2276426165722,33.3393462406212,32.4597796781532,31.5891726143273,30.7270506775413,29.8726205719163,29.025116897602,28.1841140441684,27.349190854267,26.5208303773152,25.6991726093024,24.8843267889949,24.0766519823788,23.2759167425699,22.481344511123,21.6929542305534,20.9109877399954,20.1363838294092,19.3697580359044,18.6118974064229,17.8637483464605,17.126185257247,16.4004579235793,15.6873281393217,14.9873245283998,14.3003668825579,13.6268017773924,12.9668143128897,12.3208330361601,11.6891729102395,11.0715174318051,10.467668180461,9.87756168454743,9.30164515140162,8.74058353545442,8.19464195261055,7.66475570807958,7.15336568896392,6.66374282226342,6.19884726224784,5.76018750332925,5.34749941300775,4.9591169255928,4.59419273907911,4.2524992618214,3.93339858086615,3.63600184565693,3.35847621681415,3.09863314208573,2.85523829519211,2.6275006668445,2.41497659906396,2.21680905102747,2.03253316487682,1.86127167630057,1.70238863783085,1.55523255813954,1.42081447963801,1.29756097560976,1.18032786885246,1.07194244604317,0.986666666666665,0.897435897435884,0.84210526315789,0.777777777777786,0.75,0.5,0,null,null],[82.48837,81.806346370061,80.8334555094745,79.8505052128322,78.8641418453965,77.8752348514533,76.8846250464735,75.8931241709209,74.900751773905,73.9082803956256,72.9157100062325,71.9237737138951,70.9317286036036,69.9402880012872,68.9494322696141,67.960529095207,66.9742039337995,65.9903794869731,65.0096434539268,64.0312459092328,63.053820738562,62.0760588075253,61.0973338037397,60.118280545724,59.1388986957443,58.159187915603,57.1797351314249,56.1999434531924,55.2203804155681,54.2410266774454,53.2624114192133,52.2850352450975,51.3093703520079,50.3358607843534,49.364922765257,48.3964444264256,47.430314525372,46.4664223796667,45.5056026819729,44.5481732304282,43.5939720282568,42.6437277081423,41.6972461150734,40.7547613209089,39.8164831566452,38.8821889445794,37.9524577202296,37.0266469129706,36.1045230068149,35.1854798710424,34.2693016800282,33.3554161820901,32.4439713063124,31.5357702186306,30.6312140665417,29.7306577011977,28.8337814045187,27.9405720574385,27.0503978498051,26.1629383087443,25.2784343558808,24.397353916376,23.5206275358399,22.6490758569672,21.7831629861461,20.9235106886791,20.0704050397054,19.2247306540301,18.3872371120078,17.5585448257818,16.7395586714171,15.9314261136427,15.1345522185988,14.3495958257215,13.5774362582179,12.8194893701079,12.0771643031662,11.3523630414901,10.6467074572822,9.96178023293785,9.29922068422238,8.66141502126477,8.05097895476344,7.47077916860829,6.92312542603953,6.40951703509155,5.93056048593854,5.48623872999438,5.07511703448935,4.69374849272488,4.33700984126017,4,3.6808615586978,3.38016043827039,3.09869513641756,2.83639300925246,2.59311627906976,2.36788691554912,2.15909090909091,1.96612046058459,1.78775510204082,1.62275449101796,1.47054698457222,1.33,1.20036764705883,1.07961783439491,0.970930232558146,0.876404494382029,0.772727272727266,0.700000000000003,0.555555555555557,0.25,0]],"fixedtz":false,"tzone":""},"evals":[],"jsHooks":[]}</script>
<p>Let’s now calculate the variance of T <span class="math display">\[Var(T)=\mathbb{E}[T^2]-\mathbb{E}^2[T]\]</span> and build the 95% confidence interval :</p>
<div id="htmlwidget-3" style="width:672px;height:240px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"attrs":{"title":"French population","xlabel":"age","ylabel":"Life expectancy given age","labels":["age","Male","Female"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colors":["#66C2A5","#FC8D62","#8DA0CB"],"colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"customBars":true,"series":{"Male":{"axis":"y"},"Female":{"axis":"y"}}},"annotations":[],"shadings":[],"events":[],"format":"numeric","data":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],[[48.3950355340843,75.00752,101.620004465916],[50.1464253884783,75.3761091738602,100.605792959242],[50.2836040693449,75.4045218300443,100.525439590744],[50.3790374536991,75.4244514610945,100.46986546849],[50.4550679245403,75.4404771483746,100.425886372209],[50.5158332354307,75.4534132748526,100.390993314275],[50.5685552805906,75.4647550055338,100.360954730477],[50.6135552998409,75.474541136693,100.335526973545],[50.654292161582,75.4834998943269,100.312707627072],[50.6939876535915,75.4923301459487,100.290672638306],[50.7296757483615,75.5003623990819,100.271049049802],[50.7673148006372,75.5089353133652,100.250555826093],[50.8039433022259,75.5173795714516,100.230815840677],[50.8478004679393,75.5276144054141,100.207428342889],[50.901126502142,75.5402111285709,100.179295755],[50.9685587009412,75.5563324937028,100.144106286464],[51.0619289349104,75.5789160694667,100.095903204023],[51.1847701592853,75.6089569698375,100.03314378039],[51.3427566177858,75.6479913619988,99.9532261062119],[51.5341667766501,75.6957329697521,99.857299162854],[51.7482731857429,75.7496082732686,99.7509433607942],[51.972794672658,75.8065877352763,99.6403807978946],[52.1983753668634,75.8643279711496,99.5302805754357],[52.4183570000894,75.9211353587799,99.4239137174703],[52.6306525422668,75.9764691551026,99.3222857679384],[52.8373552327283,76.0308721012946,99.224388969861],[53.038455635277,76.0843412713752,99.1302269074735],[53.2377597516354,76.1378948654759,99.0380299793163],[53.435078540551,76.1914956519966,98.9479127634422],[53.6302249212925,76.245106244004,98.8599875667155],[53.8247583011816,76.2991723715132,98.7735864418448],[54.0167133511044,76.3531650231188,98.6896166951332],[54.2075481070511,76.4075113428036,98.6074745785561],[54.4001657066539,76.463067977891,98.5259702491282],[54.5971902613745,76.5206390931121,98.4440879248496],[54.8024596199633,76.5814147189174,98.3603698178715],[55.0151163789389,76.6452214212152,98.2753264634915],[55.2370940464569,76.7127265600017,98.1883590735464],[55.4687509359763,76.7841368263318,98.0995227166874],[55.7116381037312,76.8600376905235,98.0084372773158],[55.9683418446635,76.9413608110492,97.9143797774349],[56.2411373529078,77.0289678701075,97.8167983873071],[56.5343422542528,77.124406853901,97.7144714535491],[56.8473231546697,77.2276426165722,97.6079620784747],[57.1815944337235,77.3393462406212,97.4970980475189],[57.5374224303805,77.4597796781532,97.3821369259258],[57.9149838217885,77.5891726143273,97.263361406866],[58.3124203226996,77.7270506775413,97.141681032383],[58.7270068299276,77.8726205719163,97.0182343139051],[59.1561524659312,78.025116897602,96.8940813292727],[59.5982612007878,78.1841140441684,96.769966887549],[60.0517654482509,78.349190854267,96.6466162602831],[60.5175853229658,78.5208303773152,96.5240754316647],[60.9956785215104,78.6991726093024,96.4026666970943],[61.4859020700093,78.8843267889949,96.2827515079804],[61.9887547659977,79.0766519823788,96.16454919876],[62.5031635322109,79.2759167425699,96.0486699529289],[63.0266377029518,79.481344511123,95.9360513192941],[63.5587119235254,79.6929542305534,95.8271965375815],[64.0994448869971,79.9109877399954,95.7225305929936],[64.6505747702065,80.1363838294092,95.6221928886118],[65.212975450764,80.3697580359044,95.5265406210447],[65.7878714075215,80.6118974064229,95.4359234053242],[66.3767981211388,80.8637483464605,95.3506985717822],[66.9810538348278,81.126185257247,95.2713166796662],[67.6027429714892,81.4004579235793,95.1981728756694],[68.2428038021681,81.6873281393217,95.1318524764753],[68.9016170371874,81.9873245283998,95.0730320196122],[69.5781923629392,82.3003668825579,95.0225414021765],[70.27244181992,82.6268017773924,94.9811617348649],[70.9838986784808,82.9668143128897,94.9497299472985],[71.7125735950165,83.3208330361601,94.9290924773036],[72.4582038327231,83.6891729102395,94.9201419877558],[73.2191875558898,84.0715174318051,94.9238473077203],[73.9940810127191,84.467668180461,94.941255348203],[74.78159904136,84.8775616845474,94.9735243277349],[75.5813160563023,85.3016451514016,95.0219742465009],[76.3930770492204,85.7405835354544,95.0880900216885],[77.2158046287481,86.1946419526106,95.173479276473],[78.049436911043,86.6647557080796,95.2800745051161],[78.8964342438188,87.1533656889639,95.410297134109],[79.7606591271693,87.6637428222634,95.5668265173575],[80.6455629243624,88.1988472622478,95.7521316001333],[81.5524424602593,88.7601875033292,95.9679325463992],[82.4800080095807,89.3474994130078,96.2149908164348],[83.4249204960574,89.9591169255928,96.4933133551282],[84.3852192685092,90.5941927390791,96.803166209649],[85.3601051319503,91.2524992618214,97.1448933916925],[86.3484800016004,91.9333985808662,97.5183171601319],[87.3492090361299,92.6360018456569,97.9227946551839],[88.360033138232,93.3584762168142,98.3569192953963],[89.3781460107722,94.0986331420857,98.8191202733992],[90.4019088740159,94.8552382951921,99.3085677163683],[91.4302487878297,95.6275006668445,99.8247525458593],[92.4626318003385,96.414976599064,100.367321397789],[93.4980620655495,97.2168090510275,100.935556036505],[94.5360971473059,98.0325331648768,101.528969182448],[95.5758243522686,98.8612716763006,102.146719000333],[96.6165617998958,99.7023886378309,102.788215475766],[97.6575165083589,100.55523255814,103.45294860792],[98.7003667909294,101.420814479638,104.141262168347],[99.744581525058,102.29756097561,104.850540426161],[100.783566972414,103.180327868852,105.577088765291],[101.816802910994,104.071942446043,106.327081981092],[102.863283021477,104.986666666667,107.110050311856],[103.898644250975,105.897435897436,107.896227543896],[104.973288959813,106.842105263158,108.710921566503],[106.082917220304,107.777777777778,109.472638335252],[107.386159421087,108.75,110.113840578913],[108.677573186524,109.5,110.322426813476],[110,110,110],[null,null,null],[null,null,null]],[[59.0125695210934,82.48837,105.964170478907],[60.8518608811678,82.806346370061,104.760831858954],[61.0124315219148,82.8334555094745,104.654479497034],[61.1127962495143,82.8505052128322,104.58821417615],[61.1924520136198,82.8641418453965,104.535831677173],[61.2567022684716,82.8752348514533,104.493767434435],[61.310598966588,82.8846250464735,104.458651126359],[61.3589208079919,82.8931241709209,104.42732753385],[61.4018641018272,82.900751773905,104.399639445983],[61.4438255582473,82.9082803956256,104.372735233004],[61.4848130140315,82.9157100062325,104.346606998434],[61.5288401816813,82.9237737138951,104.318707246109],[61.5718205564498,82.9317286036036,104.291636650757],[61.6175793369573,82.9402880012872,104.262996665617],[61.6659460765338,82.9494322696141,104.232918462694],[61.7240206530292,82.960529095207,104.197037537385],[61.7948475477274,82.9742039337995,104.153560319872],[61.8777830176648,82.9903794869731,104.102975956281],[61.9755886526302,83.0096434539268,104.043698255223],[62.084226105649,83.0312459092328,103.978265712817],[62.1966850995578,83.053820738562,103.910956377566],[62.3064056182471,83.0760588075253,103.845711996803],[62.4103333295894,83.0973338037397,103.78433427789],[62.5116070196789,83.118280545724,103.724954071769],[62.6102387238884,83.1388986957443,103.6675586676],[62.7062415512277,83.159187915603,103.612134279978],[62.8023821783069,83.1797351314249,103.557088084543],[62.8958579688175,83.1999434531924,103.504028937567],[62.9892854232097,83.2203804155681,103.451475407927],[63.0825419189031,83.2410266774454,103.399511435988],[63.1779587414165,83.2624114192133,103.34686409701],[63.2776611407999,83.2850352450975,103.292409349395],[63.3835756173336,83.3093703520079,103.235165086682],[63.4974387638198,83.3358607843534,103.174282804887],[63.6208071759519,83.364922765257,103.109038354562],[63.7529636776455,83.3964444264256,103.039925175206],[63.893212044525,83.430314525372,102.967417006219],[64.040874929216,83.4664223796667,102.891969830117],[64.1991194451986,83.5056026819729,102.812085918747],[64.3689418527899,83.5481732304282,102.727404608066],[64.5494080192521,83.5939720282568,102.638536037261],[64.743086781418,83.6437277081423,102.544368634866],[64.9489087396742,83.6972461150734,102.445583490473],[65.1674661104212,83.7547613209089,102.342056531397],[65.3992416760777,83.8164831566452,102.233724637213],[65.6430914611942,83.8821889445794,102.121286427965],[65.9008533352476,83.9524577202296,102.004062105212],[66.1698660540133,84.0266469129706,101.883427771928],[66.4490010530651,84.1045230068149,101.760044960565],[66.7358200617233,84.1854798710424,101.635139680362],[67.0293041940199,84.2693016800282,101.509299166036],[67.3272032714636,84.3554161820901,101.383629092717],[67.6297803930257,84.4439713063124,101.258162219599],[67.9395003022126,84.5357702186306,101.132040135049],[68.2574013944522,84.6312140665417,101.005026738631],[68.5843245746187,84.7306577011977,100.876990827777],[68.9188652185238,84.8337814045187,100.748697590513],[69.2606188448654,84.9405720574385,100.620525270012],[69.6071959605892,85.0503978498051,100.493599739021],[69.9572139634624,85.1629383087443,100.368662654026],[70.3110273939657,85.2784343558808,100.245841317796],[70.669632873824,85.397353916376,100.125074958928],[71.0353396646413,85.5206275358399,100.005915407038],[71.4100153441307,85.6490758569672,99.8881363698038],[71.7943843572652,85.7831629861461,99.7719416150269],[72.1895383742499,85.9235106886791,99.6574830031084],[72.5955309101021,86.0704050397054,99.5452791693088],[73.0139829693902,86.2247306540301,99.4354783386701],[73.4460180992573,86.3872371120078,99.3284561247582],[73.8922929608424,86.5585448257818,99.2247966907212],[74.3540797020026,86.7395586714171,99.1250376408315],[74.8331143040934,86.9314261136427,99.029737923192],[75.3291149241496,87.1345522185988,98.939989513048],[75.8422912295352,87.3495958257215,98.8569004219078],[76.3732152038666,87.5774362582179,98.7816573125692],[76.9235098189738,87.8194893701079,98.715468921242],[77.4945386833682,88.0771643031662,98.6597899229642],[78.0885045775978,88.3523630414901,98.6162215053824],[78.7067258325617,88.6467074572822,98.5866890820026],[79.3501794688475,88.9617802329379,98.5733809970282],[80.019704172431,89.2992206842224,98.5787371960138],[80.7173802125335,89.6614150212648,98.605449829996],[81.4455066991341,90.0509789547634,98.6564512103928],[82.2067285131227,90.4707791686083,98.7348298240939],[83.0027072665992,90.9231254260395,98.8435435854799],[83.8339102021869,91.4095170350916,98.9851238679962],[84.6997161147306,91.9305604859385,99.1614048571465],[85.5991055292929,92.4862387299944,99.3733719306958],[86.5295231488604,93.0751170344894,99.6207109201183],[87.4858869774926,93.6937484927249,99.9016100079572],[88.460735810876,94.3370098412602,100.213283871644],[89.4465796680167,95,100.553420331983],[90.4399280840379,95.6808615586978,100.921795033358],[91.4406754845945,96.3801604382704,101.319645391946],[92.4492832555716,97.0986951364176,101.748107017264],[93.4653081895064,97.8363930092525,102.207477828999],[94.4885542673594,98.5931162790698,102.69767829078],[95.5180274912364,99.3678869155491,103.217746339862],[96.5519633875577,100.159090909091,103.766218430624],[97.5899688477807,100.966120460585,104.342272073389],[98.6310703247237,101.787755102041,104.944439879358],[99.6742506396933,102.622754491018,105.571258342343],[100.719399789937,103.470546984572,106.221694179208],[101.765932814481,104.33,106.894067185519],[102.813870728519,105.200367647059,107.586864565598],[103.861502520452,106.079617834395,108.297733148338],[104.914462921914,106.970930232558,109.027397543202],[105.985321492401,107.876404494382,109.767487496363],[107.059621306221,108.772727272727,110.485833239234],[108.219631735744,109.7,111.180368264256],[109.428937918799,110.555555555556,111.682173192312],[110.537757486777,111.25,111.962242513223],[112,112,112]]],"fixedtz":false,"tzone":""},"evals":[],"jsHooks":[]}</script>
<p>As the variance is decreasing with age, we can notice that the confidence interval is getting smaller and smaller.</p>
<div id="so-what-about-luxembourg" class="section level3">
<h3>So what about Luxembourg ?</h3>
<p>Luckily, I found a luxembourgish life table on Statec’s website <a href="http://www.statistiques.public.lu/stat/TableViewer/tableView.aspx?ReportId=12891&amp;IF_Language=fra&amp;MainTheme=2&amp;FldrName=2&amp;RFPath=96">here</a>. Let’s extract the <span class="math inline">\(l_x\)</span> and plot the same graph as above.</p>
<pre><code>## Warning: Removed 36 rows containing missing values (geom_path).</code></pre>
<p><img src="/post/2017-12-25-quantify-life_files/figure-html/Luxembourg%20extended-1.png" width="672" /></p>
<p>Unfortunately, the table stops at the age of 95. So according to the tables, Women in France and Luxembourg have similar <span class="math inline">\(l_x\)</span> curves, but men in Luxembourg tend to live longer than those in France.</p>
<div id="htmlwidget-4" style="width:672px;height:240px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"attrs":{"title":"Luxembourgish population","xlabel":"age","ylabel":"Life expectancy given age","labels":["age","Male","Female"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colors":["#66C2A5","#FC8D62","#8DA0CB","#E78AC3","#A6D854","#FFD92F"],"colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"customBars":true,"series":{"Male":{"axis":"y"},"Female":{"axis":"y"}}},"annotations":[],"shadings":[],"events":[],"format":"numeric","data":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],[[56.7419238289115,78.91684,101.091756171089],[57.6814269058077,79.0797442732028,100.478061640598],[57.8727260346208,79.1126192958537,100.352512557087],[57.9173988208396,79.1203505043011,100.323302187763],[57.9610703239243,79.1279829944251,100.294895664926],[58.0037481521234,79.1355167365275,100.267285320932],[58.0496131915019,79.1436952793573,100.237777367213],[58.0944099903981,79.1517652958877,100.209120601377],[58.1341676589402,79.159002909018,100.183838159096],[58.1768465333179,79.1668556064969,100.156864679676],[58.2146951434947,79.1738955944175,100.13309604534],[58.2552923961956,79.1815308354573,100.107769274719],[58.2912656316224,79.1883730732177,100.085480514813],[58.3298190536332,79.1957907203147,100.061762386996],[58.3639519322442,79.2024350828591,100.040918233474],[58.4637632768246,79.2220749620973,99.9803866473699],[58.5611429013915,79.2414253718602,99.9217078423289],[58.6244058195037,79.2541312144012,99.8838566092988],[58.6859805505215,79.2666412129372,99.8473018753528],[58.8059357850887,79.291274236835,99.7766126885812],[58.9492577182976,79.3209839296848,99.6927101410721],[59.0861822639677,79.349632759835,99.6130832557023],[59.222418714699,79.37841374659,99.5344087784811],[59.3524124941259,79.4061514910417,99.4598904879575],[59.4525240757465,79.4277467130119,99.4029693502774],[59.521589806148,79.4428286370783,99.3640674680085],[59.5885618377024,79.4576465963045,99.3267313549066],[59.6679072299718,79.475435624395,99.2829640188181],[59.7611348221036,79.4966104430635,99.2320860640235],[59.8899786896908,79.5262387580624,99.162498826434],[60.0149517887857,79.5553255095239,99.0956992302621],[60.133939758574,79.5833687018735,99.032797645173],[60.2470853640164,79.6103859336926,98.9736865033688],[60.3385811263153,79.6325399314161,98.9264987365168],[60.4250023752537,79.6537768692062,98.8825513631586],[60.5250755612706,79.6787399501813,98.8324043390919],[60.6359267390033,79.7068067601524,98.7776867813015],[60.7670136539186,79.7404887446765,98.7139638354345],[60.9067679404381,79.7769241698466,98.647080399255],[61.0801227189773,79.8227638476856,98.5654049763939],[61.2488940690413,79.8680214404133,98.4871488117853],[61.4189906242611,79.9143017157986,98.4096128073361],[61.6188209179439,79.9694593437073,98.3200977694707],[61.8182435089398,80.0252956434713,98.2323477780028],[62.0087681231067,80.0794444614897,98.1501207998726],[62.1840620094656,80.1300669793736,98.0760719492816],[62.3521000895637,80.1794266960669,98.00675330257],[62.5400593317106,80.23560532128,97.9311513108494],[62.7278176804071,80.2927205746157,97.8576234688242],[62.9721600096332,80.368330393704,97.7645007777749],[63.2206402477609,80.4464998448971,97.6723594420333],[63.5159931588768,80.5409237535136,97.5658543481504],[63.836157089649,80.6448533927326,97.4535496958162],[64.2283548861137,80.7739382279752,97.3195215698366],[64.603561166206,80.8990789072921,97.1945966483781],[64.9496816166843,81.0162658227848,97.0828500288853],[65.2794721843865,81.1298258253168,96.9801794662471],[65.7004246057803,81.2771158805601,96.8538071553399],[66.1011239669126,81.4194616844069,96.7377994019011],[66.5566985746804,81.5837803996071,96.6108622245338],[67.0293601313204,81.756713836649,96.4840675419776],[67.5324376514216,81.9433602106302,96.3542827698388],[68.0270203389411,82.129493536391,96.2319667338409],[68.5266457072357,82.3204361864965,96.1142266657573],[69.0826930766836,82.5360899282608,95.9894867798379],[69.6087152530393,82.7431828826668,95.8776505122942],[70.1568172682327,82.9625410556506,95.7682648430686],[70.7222325920635,83.1925894667745,95.6629463414855],[71.2892939506213,83.4273176996623,95.5653414487033],[71.8533012328676,83.6652055786995,95.4771099245314],[72.5133193460727,83.9484159220146,95.3835124979565],[73.134701318582,84.2195189279396,95.3043365372971],[73.7644885292407,84.4996860704996,95.2348836117585],[74.4674992441685,84.8181567328918,95.1688142216152],[75.2168095171339,85.1627224536161,95.1086353900982],[75.9477652990383,85.5040415865318,95.0603178740252],[76.7592930596196,85.8884153652793,95.0175376709391],[77.5833485821183,86.2831260140617,94.982903446005],[78.3537023005435,86.6575965490834,94.9614907976232],[79.0673463703184,87.0125604021932,94.957774434068],[79.8759953242626,87.4245855928289,94.9731758613952],[80.753890240247,87.8795069169602,95.0051235936733],[81.6656034424442,88.3577142635237,95.0498250846033],[82.5163302750774,88.8110621125764,95.1057939500754],[83.3597430513537,89.2715741738506,95.1834052963475],[84.2998992410529,89.7958040232013,95.2917088053497],[85.198958846264,90.3066229687287,95.4142870911933],[86.2206581129614,90.8955914312325,95.5705247495036],[87.3119816947887,91.5208791208791,95.7297765469696],[88.4244251583882,92.1458571974036,95.867289236419],[89.6214930024643,92.7928900255754,95.9642870486866],[90.754544271241,93.3727222187905,95.9909001663401],[91.9670850959911,93.9484187902978,95.9297524846046],[93.0866204717313,94.421213277375,95.7558060830188],[94.1261510043945,94.7928047166406,95.4594584288867],[95,95,95]],[[63.6226995055085,83.33333,103.043960494491],[64.4061078423197,83.450160224314,102.494212606308],[64.5288970547098,83.4683286924818,102.407760330254],[64.5891429712467,83.4773057389284,102.36546850661],[64.6481612767753,83.4861745611926,102.32418784561],[64.6481612767753,83.4861745611926,102.32418784561],[64.7045941423075,83.4948249085717,102.285055674836],[64.7045941423075,83.4948249085717,102.285055674836],[64.7045941423075,83.4948249085717,102.285055674836],[64.7045941423075,83.4948249085717,102.285055674836],[64.7045941423075,83.4948249085717,102.285055674836],[64.7545752076774,83.5029260276169,102.251276847556],[64.803396278795,83.510918693565,102.218441108335],[64.8510656394873,83.5188028705448,102.186540101602],[64.8975918326893,83.5265785226692,102.155565212649],[64.9388531987564,83.5335485358543,102.128243872952],[65.027460160823,83.5486668872645,102.069873613706],[65.1100679778142,83.5628936494564,102.015719321099],[65.1907048359714,83.5769157462859,101.9631266566],[65.2281329185272,83.5834946878417,101.938856457156],[65.2682086762945,83.5906226797504,101.913036683206],[65.2682086762945,83.5906226797504,101.913036683206],[65.2682086762945,83.5906226797504,101.913036683206],[65.3015966997906,83.596803002328,101.892009304865],[65.3632610951021,83.608358340777,101.853455586452],[65.4232112476275,83.6197273585095,101.816243469392],[65.4507830944885,83.625023843227,101.799264591966],[65.4775181851286,83.6302309236948,101.782943662261],[65.5264841207871,83.6398983762289,101.753312631671],[65.5739604759535,83.6493983890083,101.724836302063],[65.7258904345009,83.6801527484675,101.634415062434],[65.8076169967551,83.6968807487007,101.586144500646],[65.8868448364591,83.7133074571635,101.539770077868],[65.9635932682501,83.7294325920114,101.495271915773],[66.0739291768242,83.7529158406376,101.431902504451],[66.1831683339896,83.7764588619065,101.369749389823],[66.2686389365834,83.795127208267,101.321615479951],[66.3359941232469,83.8100549090726,101.284115694898],[66.4156791073549,83.8279831077336,101.240287108112],[66.4641890336761,83.8390713054349,101.213953577194],[66.555709824967,83.8603271942388,101.164944563511],[66.7211663338585,83.8992913242747,101.077416314691],[66.8810827059512,83.9374355865414,100.993788467132],[67.0354662419536,83.9747577921159,100.914049342278],[67.1368305116558,83.9996357086479,100.86244090564],[67.2847039358802,84.0365032259371,100.788302515994],[67.4835515955624,84.0867814693116,100.690011343061],[67.7116500617872,84.1451961849817,100.578742308176],[67.8964751885081,84.1931737282102,100.489872267912],[68.1233599254032,84.2529033046738,100.382446683944],[68.2915585953137,84.2978508552719,100.30414311523],[68.4993295996329,84.3542675575717,100.20920551551],[68.7409185971195,84.4208511204611,100.100783643803],[68.9715302265174,84.4853675799321,99.9992049333468],[69.1912044487006,84.5478231376418,99.9044418265831],[69.4361812096909,84.6186296628241,99.8010781159574],[69.7449326202133,84.7092224231465,99.6735122260797],[70.0397886364892,84.7970045605307,99.5542204845722],[70.3216230519218,84.8822581483599,99.442893244798],[70.6354478356639,84.9787460481422,99.3220442606205],[70.9603322067336,85.0802467842628,99.2001613617919],[71.2682195604128,85.1780918430655,99.0879641257182],[71.615763645001,85.2904803659529,98.9651970869047],[72.0417130667932,85.4303341410534,98.8189552153137],[72.4455419729928,85.5648715399172,98.6842011068417],[72.8282499980397,85.6945316869595,98.5608133758793],[73.2528833473556,85.8409103218189,98.4289372962822],[73.6637918803045,85.9850850490437,98.3063782177828],[74.2016409707876,86.1767415717954,98.1518421728032],[74.7155174327007,86.3623135159207,98.0091095991408],[75.2715230730649,86.5658995933723,97.8602761136797],[75.7963962854709,86.7609235748638,97.7254508642567],[76.2862044730463,86.9462906164241,97.606376759802],[76.889904886577,87.1787161291834,97.4675273717897],[77.4554888451359,87.3999476726209,97.3444065001059],[78.0221039738561,87.6258404682436,97.2295769626311],[78.6524257467252,87.8817875606115,97.1111493744978],[79.2775167381378,88.1401719530029,97.002827167868],[79.892197294803,88.3995665578761,96.9069358209492],[80.5992385636857,88.7037548462478,96.80827112881],[81.3336509608396,89.0246622316714,96.7156735025031],[82.0943999667613,89.3620051794303,96.6296103920992],[82.8771851649367,89.7140230430463,96.5508609211559],[83.6296929965622,90.0581483604145,96.4866037242668],[84.4564498015328,90.4426205409643,96.4287912803958],[85.2481044572654,90.8169610452456,96.3858176332257],[86.083680378068,91.2198506855897,96.3560209931113],[87.031051201561,91.6810402043402,96.3310292071195],[87.9485012416478,92.1289362921175,96.3093713425872],[88.9681385848784,92.6247470010367,96.281355417195],[90.0488748414933,93.1363546742529,96.2238345070125],[91.0191559280364,93.5819983272213,96.1448407264061],[92.1687177163191,94.0829268292683,95.9971359422175],[93.2259947627166,94.4946637225136,95.7633326823105],[94.1559395661183,94.8061593195842,95.45637907305],[95,95,95]]],"fixedtz":false,"tzone":""},"evals":[],"jsHooks":[]}</script>
<p>As expected, men in Luxembourg have a higher life expectancy at birth than those in France. The spread between men and women is therefore smaller (around 4.4 years).</p>
</div>
</div>
<div id="price-of-a-whole-life-insurance-contract" class="section level2">
<h2>Price of a whole life insurance contract</h2>
<p>We now know how to compute the probability that a person aged <span class="math inline">\(x_0\)</span> dies at the age of <span class="math inline">\(x\)</span> which is <span class="math inline">\(\mathbb{P}[T=x|x_0] = \left[\frac{l_{x}-l_{x+1}}{l_{x_0}}\right]\)</span>. We can therefore compute the pure premium (without fees etc.) of a whole life insurance contract with a benefit of <span class="math inline">\(N\)</span> monetary units (EUR, USD … you name it) payable at the end of the year of death : <span class="math display">\[Premium(insurance)=\sum_{x=x_0}^\infty \left[ \mathbb{P}[T=x|x_0]\cdot N \cdot P(x-x_0+1)\right]\]</span></p>
<p>Let’s keep this simple and assume that there’s a constant interest rate <span class="math inline">\(i\)</span>, therefore <span class="math inline">\(P(x)=\frac{1}{(1+i)^x}\)</span></p>
<p><span class="math display">\[
\begin{aligned}
Premium(insurance)&amp;= N\cdot \sum_{x=x_0}^\infty \left[ \mathbb{P}[T=x|x_0]\cdot \frac{1}{(1+i)^{(x-x_0+1)}}\right] \\
&amp;=N\cdot A_{x_0}
\end{aligned}
\]</span></p>
<p><span class="math inline">\(A_{x_0}\)</span> is called the <em>actuarial present value</em> of one unit of a whole life insurance contract for a person aged <span class="math inline">\(x_0\)</span>. Besides, there’s a nice function <em>lifecontingencies::Axn</em> that takes care of all these formulas.</p>
</div>
<div id="international-contracts" class="section level2">
<h2>International contracts</h2>
<p>It’ll be interesting to see how much the same contract costs in different countries with different interest rates and different life tables. Let’s compare hypothetical contracts in Luxembourg, France, the United States and China and for the sake of simplicity, let’s consider the 10 year government bond yield as a proxy for the interest rates :</p>
<ul>
<li>Luxembourg : 0,40%</li>
<li>France : 0,75%</li>
<li>United States : 2,5%</li>
<li>China : 4%</li>
</ul>
<pre class="r"><code># Create a new unisex life table
## Luxembourg
B2307&lt;-new(&quot;lifetable&quot;,
           x=as.numeric(gsub(&quot;[^0-9]&quot;,&quot;&quot;,B2307$age)),
           lx=B2307$Lux.F+B2307$Lux.M,
           name=&quot;B2307&quot;)
aB2307&lt;-new(&quot;actuarialtable&quot;,
           x=B2307@x,
           lx=B2307@lx,
           interest=0.0040,
           name=&quot;aB2307&quot;)
## France
data(&quot;demoFrance&quot;)
THF&lt;-new(&quot;lifetable&quot;,
         x=demoFrance$age,
         lx=demoFrance$TH00_02+demoFrance$TF00_02,
         name=&quot;THF00_02&quot;)

aTHF&lt;-new(&quot;actuarialtable&quot;,
          x=THF@x,
          lx=THF@lx,
          interest=0.0075, 
          name=&quot;aTHF00_02&quot;)</code></pre>
<p>The chinese dataset here is defined by the probabilities to die <span class="math inline">\(q_x\)</span>, we must therefore convert it to a proper life table using <em>lifecontingencies::probs2lifetable</em> :</p>
<pre class="r"><code>## China
data(&quot;demoChina&quot;)
CL1&lt;-probs2lifetable(probs=demoChina$CL1,radix=1000,type=&quot;qx&quot;,name=&quot;CHINA CL1&quot;)
CL2&lt;-probs2lifetable(probs=demoChina$CL2,radix=1000,type=&quot;qx&quot;,name=&quot;CHINA CL2&quot;)

aCL12&lt;-new(&quot;actuarialtable&quot;,
          x=CL1@x,
          lx=CL1@lx+CL2@lx,
          interest=0.04,
          name=&quot;CL1+2&quot;)
## USA
data(&quot;soa08&quot;)
asoa08&lt;-new(&quot;actuarialtable&quot;,
            x=soa08@x,
            lx=soa08@lx,
            interest=0.025,
            name=&quot;SOA08&quot;)

# -----------------------------------------

Ax&lt;-foreach(x=0:95,.combine=rbind.data.frame)%do%{
  data.frame(age=x,
             LU=Axn(aB2307,x),
             FR=Axn(aTHF,x),
             CN=Axn(aCL12,x),
             US=Axn(asoa08,x)
             )
}</code></pre>
<p>So if we plot the values of <em>lifecontingencies::Axn</em> we will get :</p>
<div id="htmlwidget-5" style="width:672px;height:240px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"attrs":{"title":"Whole life insurance contract","xlabel":"age","ylabel":"Price","labels":["age","Luxembourg","France","China","Usa"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colors":["#66C2A5","#FC8D62","#8DA0CB","#E78AC3"],"colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"series":{"Luxembourg":{"axis":"y"},"France":{"axis":"y"},"China":{"axis":"y"},"Usa":{"axis":"y"}}},"annotations":[],"shadings":[],"events":[],"format":"numeric","data":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],[0.721469994570021,0.723878183806286,0.72668608451976,0.729564374786345,0.732454479336215,0.735371035834545,0.738283664524884,0.741222531895402,0.744174599015992,0.747137354761375,0.75011337753054,0.753086598946138,0.756073262663965,0.759070977908332,0.76208220641291,0.765083407709866,0.768083245769042,0.771108490241059,0.774146451112241,0.777187113917784,0.780229654520988,0.783298330692277,0.786378938652103,0.789463094049813,0.792561514140884,0.795684505844678,0.798830823269391,0.801984314366922,0.805136371267201,0.808285522257989,0.811411380638609,0.814575766926626,0.817755087433213,0.820956603008237,0.824159725621646,0.827368386276825,0.830592335814609,0.833824895295338,0.837059733916508,0.840301374122366,0.84353907095869,0.846756464301188,0.849970844409727,0.853197875654517,0.856462610765931,0.859725783901807,0.862980480689811,0.866220247622287,0.869489160386101,0.872713852073766,0.875972053773638,0.879190588383098,0.88238469243414,0.885545033066355,0.888728852013479,0.891925594709736,0.895106241300262,0.89823684140914,0.901393536595864,0.904498103304284,0.907588047026633,0.910668793381216,0.913735762267012,0.916754470436682,0.919744367620392,0.922771309355285,0.925754111795236,0.92873042871475,0.931620377588531,0.934525189152831,0.937315589198745,0.940156061380474,0.943006521804912,0.945701939032573,0.948376207498824,0.951058546794172,0.953608418656055,0.956143973594341,0.958727733514792,0.961269926778243,0.963676447313992,0.965976606046177,0.968212867247497,0.97052238216027,0.972743162957957,0.97487867342139,0.976989295729004,0.978845941822334,0.980687753533013,0.982437460241101,0.984130613374551,0.986103860999293,0.98795618024362,0.990190006763452,0.992833688499,0.99601593625498],[0.555159995238916,0.557391710017434,0.561415767841444,0.565521616777076,0.569678697967568,0.573882756160636,0.57812749908901,0.582410970398162,0.586731260088419,0.591084449907897,0.59547282524881,0.599890572376415,0.604341984191778,0.608819444350332,0.613321383710495,0.617840518382245,0.622365973343429,0.62689470162816,0.631420043631761,0.6359447154834,0.640480451079398,0.645040483765918,0.649634165768162,0.654265359262034,0.658936101881924,0.663644975309981,0.668390616373291,0.67317171883119,0.67798703503699,0.682836987930866,0.687718832124735,0.692633067703378,0.697577123164433,0.702547034556622,0.707539020559338,0.712549483890622,0.71757934138183,0.722626682382479,0.727688328813373,0.732761288010677,0.737842751586428,0.742927447210102,0.748010395023471,0.753090728605713,0.758165189173578,0.763233196368923,0.768291862920554,0.773344432300103,0.778394098140664,0.783445151515581,0.788499564399537,0.793560426301263,0.798625440456501,0.80369148647149,0.808756746658148,0.813818619434651,0.818878713569042,0.823939685601945,0.829003296541804,0.834069568020734,0.839134225450229,0.844193418793368,0.849241146540107,0.85427110672622,0.859278366547667,0.864256094586972,0.869200349613806,0.874106093109945,0.878970937961313,0.88379136505189,0.888563478122003,0.893281623353003,0.897943091161908,0.902546581359623,0.907089529329554,0.911566834509262,0.915971407680963,0.920293374294987,0.924524976368781,0.928656023747275,0.932670911890494,0.936548476181721,0.940267770839408,0.943811424980625,0.947169380438593,0.950338316947282,0.953315208287695,0.95609737943373,0.958689520314248,0.961106581645895,0.96337499103875,0.965522565155919,0.967561192614587,0.969489844656253,0.971304802628504,0.973007064545129],[0.0682265744025606,0.0682526382823201,0.0691135427257715,0.0705187575516862,0.0723116864282906,0.0744017311647966,0.0767348271391696,0.0792758135384723,0.0820026303455173,0.0849007809099768,0.0879585474729931,0.0911652665272539,0.094508201603602,0.0979707020934429,0.10153705580055,0.105193864043472,0.108935443445577,0.112764007399539,0.116688085368332,0.120725301010658,0.124894699924275,0.129217221754286,0.133711401741195,0.138393760530032,0.143277904649386,0.148374915214668,0.153691184383118,0.159232141098966,0.16500057538055,0.17100035140056,0.177232327991191,0.183698819210087,0.190400013248795,0.197339167241936,0.204517106520956,0.211936172790643,0.21959829776963,0.227505831581633,0.235660012855658,0.244063319029471,0.252718349023023,0.261626402666031,0.270788638268109,0.280206124013427,0.289879546965762,0.299808576448784,0.309992650449825,0.320431062281765,0.331121389101789,0.342060910435432,0.353246762738509,0.364673842536626,0.376336533111778,0.388229198255545,0.400343653871118,0.412672388914506,0.425204664040405,0.437930877910272,0.450838597442741,0.463914841178833,0.477145362852639,0.490514264768589,0.504004975250114,0.51760013402545,0.531280694289138,0.545026234278929,0.558816204442314,0.57262872900107,0.586440680775317,0.600229292235436,0.613970352907414,0.627639237120554,0.641212092111514,0.654663434772207,0.667969191559737,0.681104491808622,0.694045964252075,0.706769600961468,0.719253368348769,0.73147584001847,0.743416248463056,0.755056220707125,0.766377762195982,0.777365788558145,0.788006356806732,0.798287109939879,0.808198663330006,0.817732869123504,0.826883796529658,0.835648175741796,0.844025312941687,0.852015744303769,0.859624406307376,0.86685756330231,0.873726015614358,0.880245696444515],[0.196256877768077,0.184509599398311,0.188031784553754,0.191743515689474,0.195633075551625,0.199689898982139,0.203904361417904,0.208268113827639,0.212773870372571,0.217415498913226,0.222188034777253,0.227087692142467,0.232111872159528,0.237259043926787,0.242529211373307,0.247923269471705,0.253443406326479,0.259091785035884,0.264870537239282,0.270781755841324,0.276827487196016,0.283009722585518,0.28933038950543,0.295791341718166,0.302394349039707,0.309141086215258,0.316033121269639,0.323071902933641,0.330258747262419,0.337594823846085,0.345081141040826,0.352718530022178,0.360507629101644,0.368448866084664,0.376542441116189,0.384788307647662,0.393186153799788,0.401735382645549,0.410435091778214,0.419284053127332,0.428280691830919,0.437423065084706,0.446708841210281,0.456135278364881,0.465699203814675,0.475396993651954,0.485224552987505,0.49517729726628,0.50525013485155,0.515437450746863,0.525733092257825,0.536130357003763,0.546621982824342,0.55720014081285,0.567856431601848,0.578581884744398,0.589366962200928,0.600201566191023,0.611075051251186,0.621976241540481,0.632893453151996,0.643814521793617,0.654726836486641,0.665617378604645,0.676472767241141,0.687279310145798,0.698023060838039,0.708689881017162,0.719265508454823,0.729735630048375,0.740085959146664,0.750302316616728,0.760370715286474,0.770277446336769,0.780009167264401,0.78955298961545,0.798896566323606,0.808028176504676,0.816936807089333,0.825612229920995,0.834045072795713,0.842226883497901,0.850150186008154,0.857808527071229,0.865196512937737,0.872309835402662,0.879145286381764,0.885700760937493,0.891975248359485,0.897968812139602,0.903682557913223,0.909118591187493,0.914279965131118,0.91917061906498,0.923795309408224,0.928159533969863]],"fixedtz":false,"tzone":""},"evals":[],"jsHooks":[]}</script>
<p>So to conclude, it is less expensive to buy a whole life insurance contract in China mostly due to the higher interest rates. But this assumes that insurance companies can only invest in local government bonds, something that is definitely not true. I’ll leave this for later in another article.</p>
<p>That’s it for today, thanks for reading and if you haven’t been able to pay a visit to your parents and/or grand-parents please take some time and do so.</p>
<p>Life is short, stay healthy and merry christmas :).</p>
<p align="center">
<img src="https://image.flaticon.com/icons/png/512/658/658362.png" alt="Merry Xmas" style="width:20.0%" /> <strong>END</strong>
</p>
</div>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/life/">Life</a>

  <a class="tag tag--primary tag--small" href="/tags/insurance/">Insurance</a>

  <a class="tag tag--primary tag--small" href="/tags/lifecontingencies/">lifecontingencies</a>

  <a class="tag tag--primary tag--small" href="/tags/luxembourg/">Luxembourg</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/01/monte-carlo-casino/" data-tooltip="Monte Carlo Casino">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/smith-wilson-yield-curves/" data-tooltip="Smith-Wilson yield curves">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/12/quantify-life/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/12/quantify-life/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/12/quantify-life/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Guanhua Li. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2018/01/monte-carlo-casino/" data-tooltip="Monte Carlo Casino">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/12/smith-wilson-yield-curves/" data-tooltip="Smith-Wilson yield curves">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/12/quantify-life/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/12/quantify-life/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/12/quantify-life/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2017%2F12%2Fquantify-life%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2017%2F12%2Fquantify-life%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2017%2F12%2Fquantify-life%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://image.flaticon.com/icons/svg/315/315061.svg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Guanhua Li</h4>
    
      <div id="about-card-bio">Been there, done that &hellip;</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Actuary in a digital world
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Luxembourg
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2018/01/monte-carlo-casino/">
                <h3 class="media-heading">Monte Carlo Casino</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Several days ago, I was playing a chinese card game 鋤大D with a bunch of friends and I was wondering what were the different odds of obtaining certain sets of cards. So instead of calculating these probabilities, why not just estimate them ?
The rules of the game Let me explain here briefly how this game works. We start with a shuffled deck of 52 cards and distribute them to 4 players, one by one, eventually everyone will have 13 cards.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/quantify-life/">
                <h3 class="media-heading">Quantify life ?</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Life insurance Classical life insurance is all about interest rate and mortality. Let’s take for example a whole life insurance contract which is basically a contract with a payment at the end of the year of death of the insured to the beneficiary, a good classical life insurance contract.
In order to model this, we need to
 model the future lifetime model the interest rates in order to discount this payment  Life actuaries use fancy notations to express their “things”, so in order to understand what’s going on let me list here some simple notations :</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/12/smith-wilson-yield-curves/">
                <h3 class="media-heading">Smith-Wilson yield curves</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Let’s start this journey with the most basic, yet most important “parameters” of any solvency 2 calculations : the risk-free interest rate. EIOPA, the european insurance and occupational pensions authority uses the Smith-Wilson model to publish the relevant risk free interest rate term structures, also called the RFR.
According to article 77 of the Solvency 2 directive, the best estimate of technical provisions shall correspond to the probability-weighted average of future cash-flows, taking account of the time value of money (expected present value of future cash-flows), using the relevant risk-free interest rate term structure.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/11/first/">
                <h3 class="media-heading">Hello World</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">First post This post exists only for testing purposes.
print(&quot;Hello World.&quot;) ## [1] &quot;Hello World.&quot; Guanhua.
Credits : Icon made by Vectors Market.
 </div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         4 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://wallpapers.wallhaven.cc/wallpapers/full/wallhaven-393451.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2017\/12\/quantify-life\/';
          
            this.page.identifier = '\/2017\/12\/quantify-life\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'gli-1';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
  </body>
</html>

