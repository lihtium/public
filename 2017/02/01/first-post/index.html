<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="First post">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2017-02-01">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="/2017/02/01/first-post/">
    <meta property="og:site_name" content="Guanhua&#39;s blog">
    
    <meta property="og:tags" content="R">
    
    <meta property="og:tags" content="Simulations">
    
    <meta name="generator" content="Hugo 0.18.1" />
    <title>First post &middot; Guanhua&#39;s blog</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="../../../../css/style.css">
    
    <link href="" rel="alternate" type="application/rss+xml" title="Guanhua&#39;s blog" />
    
    

    
    




</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="../../../../">Guanhua&#39;s blog</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="../../../../">Guanhua&#39;s blog</a></h1>
		
		
		
		
		
		<div id="social" class="text-center">
			
			
			
			
		</div>
		<div id="links" class="text-center">
			
			
		</div>
	</div>
</div>
		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<main>
	<header>
		<h1>First post</h1>
	</header>

	<article>


<div id="r-markdown" class="section level1">
<h1>R Markdown</h1>
<p>In this first blog post, I’d like to render some R Markdown code, see how this works and catch up with all the things I always wanted to do.</p>
<p>Posts will be small and comprehensible, i.e. with R code and examples. Now and then, I may develop a more complicated model/example that are related to insurance and statistics.</p>
<p>So let’s start this journey with something easy, like plotting the distribution of a normal distribution.</p>
<pre class="r"><code>normal.sample&lt;-rnorm(100,0,1)</code></pre>
<p>Now that we have the sample, we can plot the histogram of the sample :</p>
<pre class="r"><code>hist(normal.sample,
     xlim=c(-3,3),
     breaks=100,
     probability = T)

points(seq(-3,3,by=(3-(-3))/100),
       dnorm(seq(-3,3,by=(3-(-3))/100),0,1))</code></pre>
<p><img src="figures/hist-1.png" width="672" /></p>
<pre class="r"><code>qqnorm(normal.sample)</code></pre>
<p><img src="figures/hist-2.png" width="672" /></p>
<pre class="r"><code>shapiro.test(normal.sample)</code></pre>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  normal.sample
## W = 0.98723, p-value = 0.4532</code></pre>
<pre class="r"><code>var(normal.sample)</code></pre>
<pre><code>## [1] 1.194904</code></pre>
<pre class="r"><code>mean(normal.sample)</code></pre>
<pre><code>## [1] -0.1619367</code></pre>
<p>It seems like 100 simulations are not enough, so why don’t we try with 10000 :</p>
<pre class="r"><code>normal.sample&lt;-rnorm(10000,0,1)

hist(normal.sample,
     xlim=c(-3,3),
     breaks=100,
     probability = T)

points(seq(-3,3,by=(3-(-3))/100),
       dnorm(seq(-3,3,by=(3-(-3))/100),0,1))</code></pre>
<p><img src="figures/rnorm%2010000-1.png" width="672" /></p>
<pre class="r"><code>v&lt;-var(normal.sample)
v</code></pre>
<pre><code>## [1] 1.012188</code></pre>
<pre class="r"><code>m&lt;-mean(normal.sample)
m</code></pre>
<pre><code>## [1] -0.004863322</code></pre>
<p>We see that the variance is differs around 1.219% higher. As for the mean, we can see that it is -0.005.</p>
<p>Now, here’s a trick : the normal distribution is a symetric distribution, so if we took n simulations and add multiply these simulations by -1, we should get better results for these two moments.</p>
<pre class="r"><code>normal.sample&lt;-rnorm(2500,0,1)

hist(normal.sample,
     xlim=c(-3,3),
     breaks=100,
     probability = T)</code></pre>
<p><img src="figures/symetric-1.png" width="672" /></p>
<pre class="r"><code>var(normal.sample)</code></pre>
<pre><code>## [1] 1.016453</code></pre>
<pre class="r"><code>normal.sample&lt;-c(normal.sample,-normal.sample)

hist(normal.sample,
     xlim=c(-3,3),
     breaks=100,
     probability = T)

points(seq(-3,3,by=(3-(-3))/100),
       dnorm(seq(-3,3,by=(3-(-3))/100),0,1))</code></pre>
<p><img src="figures/symetric-2.png" width="672" /></p>
<pre class="r"><code>v&lt;-var(normal.sample)
v</code></pre>
<pre><code>## [1] 1.016287</code></pre>
<pre class="r"><code>mean(normal.sample)</code></pre>
<pre><code>## [1] 0</code></pre>
<p>Well, normaly the mean should be equal to 0. Let’s recall how the mean is computed :</p>
<p><span class="math display">\[\bar{X} = \frac{1}{N} \sum_{i=1}^N X_i\]</span></p>
<p>As we took normal.sample and it’s negative version (*-1), the sum shoud be 0 because <span class="math inline">\(X_i=-X_{2500+i}\)</span>.</p>
<pre class="r"><code>normal.sample&lt;-round(normal.sample,digits=2)

mean(normal.sample)</code></pre>
<pre><code>## [1] -1.387779e-21</code></pre>
<pre class="r"><code>var(normal.sample)</code></pre>
<pre><code>## [1] 1.016047</code></pre>
<p>Ok, still doesn’t work :p the mean is not equal to 0, but very close!</p>
<p>Guanhua</p>
</div>



	</article>
</main>

<div id="bottom-nav" class="text-center center-block">
	<a href=" /" class="btn btn-default"><i class="fa fa-home"></i> Home</a>
</div>



						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="//js/App.js"></script>
  
</body>
</html>
